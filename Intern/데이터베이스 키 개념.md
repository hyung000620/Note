# 데이터베이스의 키(key) 개념

## 키(key)

- 튜플의 유일성으로 인해 튜플들을 모두 상이함
 실제로는 하나 또는 몇 개의 애트리뷰트만 이용해도 투플들을 유일하게 식별 가능
 키(key): 투플들을 유일하게 식별할 수 있는 애트리뷰트 집합

### 후보키(candidate key)
: 릴레이션에서 각 투플들을 유일하게 식별해 주는 몇 개의 애트리뷰트들의 조합, 다음의 2가지 성질을 모두 만족해야 됨
-	유일성 : 몇 개의 애트리뷰트 조합으로 이루어진 후보키만 비교하더라도 그 투플을 유일하게 표현할 수 있어야 함
-	최소성 : 후보키는 투플들을 유이하게 식별하는데 꼭 필요한 애트리뷰트들로만 구성됨

### 데이터베이스의 키(2)
- 후보키의 예 : 학생 테이블에서 <학번>,<성명,학과>
 만일, 성명만으로 학생 투플을 유일하게 식별할 수 있다면 <성명,학과>는 후보키가 될 수 없다(?유일성만 있고 최소성이 없기 때문)
- 후보키가 둘 이상 되는 경우에도 그 중에서 어느 하나를 선정하여 기본키라 지정하면 나머지 후보키들은 대체키가 됨 ex) <학번>:기본키, <성명,학과>:대체키
- 기본키 : 그 키 값을 가진 투플을 바로 지정할 수 있다. Ex) 학생 릴레이션에서 키 값 20181234는 투플 “<20181234,김철수,컴퓨터,010-4567-7654>”를 대표하여 지정할 수 있다. 

### 외래키(Foreigh key)
- 강의 릴레이션의 교수번호 애트리뷰트는 실제로 교수 릴레이션의 기본키인 교수번호를 참조하는 외래키이다.
- 강의 릴레이션의 교수번호 값은 반드시 교수 릴레이션의 어떤 투플을 나타내는 교수번호 값으로 존재해 있어야만 함 ex) 강의 릴레이션의 교수번호 “P200”
- 강의 릴레이션의 과목코드 값은 반드시 과목 릴레이션의 기본키인 과목코드 값으로 나타나 있어야 함 ex) 강의 릴레이션의 과목코드 “CO123”
- 외래키 : 강의 릴레이션의 교수번호나 과목코드 애트리뷰트

### 무결성 제약조건
(1) 개체 무결성 제약조건(entity integrity constraints)
: 기본키에 속해 있는 애트리뷰트는 널값이나 중복 값을 가질 수 없다.
(2) 참조 무결성 제약조건(referential integrity constraints)
: 릴레이션은 참조할 수 없는 외래키 값을 가질 수 없다. 
Ex) 수강 릴레이션에서 학번이 “20207779”인 튜플이 있다면 참조 무결성 위배됨
-데이터베이스가 삽입, 삭제, 변경 등의 연산을 통해 변경되어도 무결성 제약 조건이 유지되어야함.
Ex) 과목 릴레이션에서 과목코드 “CO123”이 제거시 강의 릴레이션과 수강 릴레이션에 있는 괌고코드 “CO123”도 함께 삭제되어야 함.

